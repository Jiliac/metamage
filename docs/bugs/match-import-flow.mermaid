graph TD
    A[JSON Tournament Data] --> B[Extract Tournament ID from TournamentFile]
    B --> C[find_rounds_file with tournament_id]
    C --> D{Rounds File Found?}
    D -->|Yes| E[Create Tournament & Entries]
    D -->|No| F[Skip Tournament]
    
    E --> G[Process Matches: process_rounds_for_tournament]
    G --> H[find_rounds_file WITHOUT tournament_id]
    H --> I{Multiple Files Same Day?}
    I -->|Yes| J[❌ Ambiguous - Return None]
    I -->|No| K[✅ Return File Path]
    
    J --> L[❌ No Matches Imported]
    K --> M[✅ Matches Imported Successfully]
    
    subgraph "Problem Area"
        H
        I
        J
    end
    
    subgraph "Working Phase"
        B
        C
        D
        E
    end
    
    subgraph "Broken Phase"
        G
        H
        I
        J
        L
    end
    
    style J fill:#ff9999
    style L fill:#ff9999
    style H fill:#ffcccc
    
    classDef success fill:#ccffcc
    classDef problem fill:#ff9999
    classDef warning fill:#ffcccc
    
    class E,M success
    class J,L problem
    class H warning